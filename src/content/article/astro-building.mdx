---
title: Разработка с Astro
layout: '../../layouts/PostLayout.astro'
tags:
  - astro
  - web
description: Разработка сайта с помощью Astro. Обсудим плюсы и минусы, которые я нашел во время разработки станции.
publicationDate: 27 Mar 2023
---

# Разработка с Astro

В данной статье поговорим о том насколько комфортно можно разработать сайт с помощью Astro, а также поговорим о его плюсах и минусах.

## О самом Astro

**Astro** - фреймворк для создвния статических сайтов с "островами". Острова - это отдельные компоненты,
которые могут рендериться на стороне сервера, а затем гидрироваться на стороне клиента или же вовсе рендериться на стороне
клиента.

Сама идея островов не нова, [ее до этого придумали в 11ty](https://is-land.11ty.dev).

# Developer UX

В данный момент Astro поддерживается в VSCode, Neovim и частично (я бы сказал очень частично) в WebStorm.
Так как я работаю в WebStorm, то и рассказывать буду о том как разрабатывалось под WebStorm.

> К слову, данный блог разработан на Astro используя WebStorm, так что рассказать есть о чем.

## Поддержка WebStorm
Я начал писать на Astro сразу после того как вышла версия `2023.1`, поддержка Astro оказалась сыровата. При использовании
Astro в связке с SCSS линтер постоянно жаловался что я неправильно пишу стили, когда я использовал вложенные селекторы
SCSS.

Кроме того hot-reload в самом Astro работал достаточно коряво, при изменении стилей страница не всегда перезагружалась,
из-за этого требуется перезапускать весь процесс `astro dev` заново. Это не один раз сбивало меня с толку во время разработки
данного блога, так как не было ясности обновились ли стили на странице или нет.

# Поддержка Vue, React, Lit и нативные компоненты
Astro поддерживает возможность вставки динамических островов на Vue, React, Lit, Preact и других реактивных фреймворков
и библиотек. Я обычно пишу на Vue, поэтому динамические острова в данном блоге написанны именно на нем. Встраивание островов
не составило никаких трудностей.

Нативные компоненты на Astro сильно отличаются от любых других компонентов. В них нет хуков, элементов жизненного цикла и
других важных функциональных составляющих. С одной стороны они там и не нужны, а с другой стороны с таким же успехом я мог
просто написать статический сайт на HTML и Webpack используя разделение верстки на HTML-компоненты и встроить Vue-приложения
внутрь сайта. Изменилось бы ровным счетом ничего.

# Преимущества

Минусы уже описаны выше, так что пришло время поговорить о преимуществах Astro перед другими фреймворками для создания
веб-приложений.

## Скорость
Блог на Astro достаточно быстрый. Я бы не сказал, что он быстрее чем блог на Nuxt
([хотя разработчики заверяют об обратном](https://astro.build/blog/2023-web-framework-performance-report/)), но и точно не
медленней.

## SEO
Наверное это одно из главных преимуществ данного фреймворка. Внутри лэйаутов можно полностью засовывать HTML бойлерплейт,
где мы естественно можем указать любые нужные нам мета-теги.

## MPA
Это нельзя назвать преимуществом (скорее архитектурно правильным решением), однако MPA обеспечивает маленький размер для
каждой страницы. В том же Nuxt для того чтобы загрузить первую страницу нужно было достаточно много времени. При переходе на
другую страницу (при загруженном приложении) скорость загрузки уже не так сильно отличается от того же Nuxt.

# Можно ли пробовать?

На мой субъктивный взгляд Astro еще сыроват для веб-приложений уровня продакшена. На нем можно спокойно писать блоги
(о Боги, дайте мне нормальную поддержку Astro для WebStorm), мелкие сайты и портфолио. Для работы в корпоративных решениях
я бы использовал Nuxt или Next.js, там тоже можно статически генерировать страницы (SSG).